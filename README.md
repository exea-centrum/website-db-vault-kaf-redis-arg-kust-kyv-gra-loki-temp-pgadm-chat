# website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui - All-in-one teaching stack

This repository is a generated example for the lab exercise:
- Form -> Redis -> Worker -> Kafka + Postgres
- Monitoring: Prometheus / Grafana / Tempo / Loki / Promtail
- Secrets demo: Vault (dev mode) - DO NOT use in production
- Policy: Kyverno (example ClusterPolicy)
- UI: Kafka UI, RedisInsight, pgAdmin, Grafana

Quickstart (local minikube / cluster):
1. Build & push the container (or change manifests to use local image)
   docker build -t ghcr.io/exea-centrum/website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui:latest .
   docker push ghcr.io/exea-centrum/website-db-vault-kaf-redis-arg-kust-kyv-gra-loki-temp-pgui:latest

2. Apply manifests:
   kubectl apply -k manifests/base

3. Test flow:
   - Submit: curl -F "email=test@x" -F "message=hello" http://<ingress or svc>/api/contact
   - Check Redis LRANGE outgoing_messages 0 -1
   - Check message-processor logs, Kafka UI, and Postgres entries

Security:
- Replace example passwords and Vault dev-mode with production secrets (K8s Secret, SealedSecrets or Vault with proper auth)
- Validate Kyverno policy and resource requests prior to production

README generated by unified-stack.sh
